<!doctype html>
<html lang="pt-br">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <link rel='stylesheet' href='css/style.css' type='text/css' />
    <title>JS JSON tutorial practicing</title>
</head>

<body>
    <h1>JSON - Internos</h1>

    <section>
        <strong>1) Converte um objeto JavaScript em uma string JSON.</strong>
        <p>Cria as array e com o "JSON.parse" retorna todas as arrays</p>
        <p>Escreve no HTML: nome: John, idade: 31, cidade: New York</p>
        <i id="demo"></i>

        <script>
            var meudados = '{"nome": "John", "idade": "31", "cidade": "New York"}';
            var pegajson = JSON.parse(meudados);
            document.getElementById("demo").innerHTML = pegajson.nome + "<br/>" + pegajson.idade + "<br/>" + pegajson.cidade;
        </script>
    </section>

    <section>
        <strong>2) Armazena (simula o servidor) e recupere dados (vindos do servidor simulado).</strong>
        <p>Cria um array local e depois exibe-os atraves do JS</p>
        <p>1 - Cria as arrays (nome: Jordan, idade: 20, cidade: Miami)</p>
        <p>2 - Pega as arrays atraves do "JSON.stringify()"</p>
        <p>3 - Enviar o json com "localStorage.setItem()" </p>
        <p>4 - Recuperando os dados com "localStorage.getItem()"</p>
        <p>5 - Emplementa com o json padr√£o nativo do javascript "JSON.parse()" pegando o que foi recuperado</p>
        <p>6 - Exibir no html todas as arrays</p>
        <i id="demo2"></i>

        <script>
            var minhainfo, meujson, pegarjson, inserir;

            //Armazenando dados (simula o servidor)
            minhainfo = {
                Nome: "Jordan",
                idade: "20",
                cidade: "Miami"
            };
            meujson = JSON.stringify(minhainfo);
            localStorage.setItem("testJSON", meujson);
            
            //Recuperando dados (vindos do servidor simulado acima)
            pegarjson = localStorage.getItem("testJSON");
            inserir = JSON.parse(pegarjson);

            document.getElementById("demo2").innerHTML = inserir.Nome + "<br/>" + inserir.idade + "<br/>" + inserir.cidade;
        </script>
    </section>

</body>

</html>